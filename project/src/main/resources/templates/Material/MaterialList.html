<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{/layout/basic :: setContent(~{this::content})}">
    <th:block th:fragment="content">
        <div class="container-fluid">
            <!-- ========== title-wrapper start ========== -->
            <div class="title-wrapper pt-30">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <div class="title">
                            <h2>품목 정보 등록</h2>
                        </div>
                    </div>
                    <!-- end col -->
                    <div class="col-md-6">
                        <div class="breadcrumb-wrapper">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item">
                                        <a href="#0">조달 관리</a>
                                    </li>
                                    <li class="breadcrumb-item active">
                                        <a href="#0">품목 정보 등록</a>
                                    </li>
                                </ol>
                            </nav>
                        </div>
                    </div>
                    <!-- end col -->
                </div>
                <!-- end row -->
            </div>
            <!-- ========== title-wrapper end ========== -->
            <div class="tables-wrapper">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="card-style mb-30">
                            <h3 class="mb-10">등록된 자재 품목</h3>
                            <p class="text-sm mb-20">
                                현재 등록되어 있는 자재 품목들입니다. 오른쪽의 폼을 통해 신규 자재 품목을 등록할 수 있습니다.
                            </p>

                            <div class="text-align-right">

                                <span class="input-style-1"> <input type="text"  style="padding: 5px;"></span>
                                <button class="btn-search primary-btn main-btn btn-hover" style="padding: 5px 18px 9px;" type="submit"><i class="lni lni-search"> 검색</i></button>
                            </div>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th>이미지</th>
                                    <th>자재 ID</th>
                                    <th>자재 이름</th>
                                    <th>자재 코드</th>
                                    <th>자재 유형</th>
                                    <th>규격</th>
                                    <th>무게</th>
                                    <th>수량</th>
                                    <th>공급사</th>
                                    <th>승인</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="material : ${materials}">
                                    <td><img alt="이미지" class="thumbnail" style="width: 50px; height: 50px;"
                                             th:src="${material.imageUrl}"/></td>
                                    <td th:text="${material.materialId}">1</td>
                                    <td th:text="${material.materialName}">Sample Name</td>
                                    <td th:text="${material.materialCode}">M001</td>
                                    <td th:text="${material.materialType}">MAIN</td>
                                    <td th:text="${material.unit}">pcs</td>
                                    <td th:text="${material.unitPrice}">100.0</td>
                                    <td th:text="${material.quantity}">50</td>
                                    <td th:text="${material.supplierName}">Supplier A</td>
                                    <td>
                                        <button class="btn-primary" type="button">승인</button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <ul class="pagination">
                                <li th:each="i : ${#numbers.sequence(1, totalPages)}">
                                    <a th:classappend="${i == currentPage ? 'active' : ''}"
                                       th:href="@{/materials/list(page=${i})}"
                                       th:text="${i}">1</a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="card-style mb-30">
                            <h3 class="mb-10">자재 품목 등록</h3>
                            <p class="text-sm mb-20">
                                신규 자재 품목을 등록할 수 있습니다.
                            </p>
                            <form enctype="multipart/form-data" method="post" th:action="@{/material/register}"
                                  th:object="${materialDTO}">
                                <div class="row">
                                    <div class="input-style-1 form-group col-lg-8">
                                        <label for="materialName">자재 이름</label>
                                        <input id="materialName" required th:field="*{materialName}" type="text"/>
                                    </div>
                                    <div class="input-style-1 form-group col-lg-4">
                                        <label for="materialCode">자재 코드</label>
                                        <input id="materialCode" required th:field="*{materialCode}" type="text"/>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="select-style-1 form-group col-lg-4">
                                        <label for="materialType">자재 유형</label>
                                        <div class="select-position">
                                            <select id="materialType" required th:field="*{materialType}">
                                                <option value="MAIN">구매품</option>
                                                <option value="SUB">제조품</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="select-style-1 form-group col-lg-8">
                                        <label for="supplierId">공급사</label>
                                        <div class="select-position">
                                            <select id="supplierId" required th:field="*{supplierId}">
                                                <option value="">공급사 선택</option>
                                                <option th:each="supplier : ${approvedSuppliers}"
                                                        th:text="${supplier.supplierName}"
                                                        th:value="${supplier.supplierId}">
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="form-group standard-group input-style-1 col-lg-8">
                                        <label for="materialType">규격</label>
                                        <input id="width" placeholder="가로" style="width: 26%" th:field="*{width}"
                                               type="text"/>×
                                        <input id="height" placeholder="세로" style="width: 26%" th:field="*{height}"
                                               type="text"/>×
                                        <input id="depth" placeholder="높이" style="width: 26%" th:field="*{depth}"
                                               type="text"/>
                                    </div>
                                    <div class="input-style-1 form-group col-lg-4">
                                        <label for="weight">무게</label>
                                        <input id="weight" required th:field="*{weight}" type="text"/>
                                    </div>
                                </div>


                                <div class="row">
                                    <div class="input-style-1 form-group col-lg-8">
                                        <label for="unitPrice">단가</label>
                                        <input id="unitPrice" min="0" required step="0.01" th:field="*{unitPrice}"
                                               type="number"/>
                                    </div>
                                    <div class="input-style-1 form-group col-lg-4">
                                        <label for="quantity">수량</label>
                                        <input id="quantity" min="1" required th:field="*{quantity}" type="number"/>
                                    </div>
                                </div>
                                <div class="input-style-1 form-group">
                                    <label for="imageFile">이미지</label>
                                    <input id="imageFile" required th:field="*{imageFile}" type="file"/>
                                </div>

                                <div class="text-align-right">
                                    <button class="main-btn primary-btn" type="submit">등록하기</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </th:block>
</th:block>